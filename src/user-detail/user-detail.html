<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<dom-module id="user-detail">
    <template>
        <style>
        
        </style>
        <h1>Hello [[user.username]]!</h1>
        <ul>
            <li>Honor: [[user.honor]]</li>
            <li>Clan: [[user.clan]]</li>
            <li>LeaderBoard Position: [[user.leaderboardPosition]]</li>
            <li>Skills: [[user.skills]]</li>
        </ul>
        <div class="card">
            <h2>Ranking Global</h2>
            <ul>
                <li><span>rank: </span>[[user.ranks.overall.rank]]</li>
                <li><span>name: </span>[[user.ranks.overall.name]]</li>
                <li><span>color: </span>[[user.ranks.overall.color]]</li>
                <li><span>score: </span>[[user.ranks.overall.score]]</li>
            </ul>
        </div>

        <h2>Ranking por Lenguaje</h2>
        <template is="dom-repeat" items="[[_toArray(user.ranks.languages)]]">
                <language-detail language="[[item.title]]" rank="[[item.value.rank]]" name="[[item.value.name]]" color="[[item.value.color]]" score="[[item.value.score]]"></language-detail>
        </template>
       
    </template> 
    <script>
    class UserDetail extends Polymer.Element {
        static get is() { return 'user-detail'; }
        static get properties() {
            return {
                user: Object,
                notify: true
                
            }
        }
        _toArray(obj) {
            return Object.keys(obj).map(function(key) {
                return {
                    title: key,
                    value: obj[key]
                };
            });
            //console.log(obj);
        }   

        
    }
    customElements.define(UserDetail.is, UserDetail);
</script>

</dom-module>